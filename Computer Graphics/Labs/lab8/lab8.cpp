/*==================================================================================================
PROGRAMMER:				Yang Wang
COURSE:					CSC 525/625
MODIFIED BY:			Trent Scott
LAST MODIFIED DATE:		10/07/2016
DESCRIPTION:			Demo: Thinking Man Motion Drawing
NOTE:					Program adopted from Dr. Wang for assignment completion purposes.
FILES:					lab5.cpp, (myCPPproj.sln, ...)
IDE/COMPILER:			MicroSoft Visual Studio 2013
INSTRUCTION FOR COMPILATION AND EXECUTION:
1.		Double click on myCPPproj.sln	to OPEN the project
2.		Press Ctrl+F7					to COMPILE
3.		Press Ctrl+Shift+B				to BUILD (COMPILE+LINK)
4.		Press Ctrl+F5					to EXECUTE
==================================================================================================*/

#include <string>
#include <iostream>
#include <GL/glut.h>				// include GLUT library

using namespace std;

string INPUT;

int MouseButton;
int old_x = 0;
int old_y = 0;

void display() {
	glPointSize(1);		// change point size back to 1

	GLubyte pattern[] = {
		0x01, 0x80, 0x00, 0x00
		, 0x01, 0xe0, 0x00, 0x00
		, 0x01, 0xff, 0xc0, 0x00
		, 0x00, 0x0f, 0xc0, 0x00
		, 0x70, 0x00, 0x80, 0x00
		, 0x7c, 0x00, 0x80, 0x00
		, 0x3f, 0x80, 0x80, 0x00
		, 0x03, 0xc0, 0x80, 0x00
		, 0x00, 0xc0, 0x80, 0x00
		, 0x00, 0xc1, 0x80, 0x00
		, 0x00, 0xc1, 0x80, 0x00
		, 0x00, 0xc3, 0x00, 0x00
		, 0x00, 0xc3, 0x00, 0x00
		, 0x00, 0x86, 0x00, 0x00
		, 0x00, 0x86, 0x00, 0x00
		, 0x00, 0x8e, 0x00, 0x00
		, 0x00, 0x8c, 0x00, 0x00
		, 0x01, 0x8c, 0x00, 0x00
		, 0x01, 0x9c, 0x00, 0x00
		, 0x01, 0x9c, 0x00, 0x00
		, 0x01, 0x9c, 0x00, 0x00
		, 0x01, 0xdc, 0x00, 0x00
		, 0x01, 0xdc, 0x00, 0x00
		, 0x01, 0xfc, 0x00, 0x00
		, 0x01, 0xfe, 0x10, 0x00
		, 0x01, 0xfe, 0x70, 0x00
		, 0x01, 0xfe, 0xc0, 0x00
		, 0x03, 0xff, 0x80, 0x00
		, 0x03, 0xff, 0x00, 0x00
		, 0x03, 0xff, 0x80, 0x00
		, 0x03, 0xfc, 0xfe, 0x00
		, 0x03, 0xf8, 0x03, 0x00
		, 0x03, 0xf8, 0x03, 0x00
		, 0x03, 0xf8, 0x06, 0x00
		, 0x03, 0xf8, 0x0c, 0x00
		, 0x03, 0xf8, 0x18, 0x00
		, 0x03, 0xfc, 0x70, 0x00
		, 0x01, 0xfc, 0xe0, 0x00
		, 0x01, 0xff, 0xc0, 0x00
		, 0x01, 0xff, 0xc0, 0x00
		, 0x01, 0xff, 0x80, 0x00
		, 0x03, 0xff, 0x00, 0x00
		, 0x07, 0xfe, 0x00, 0x00
		, 0x0f, 0x80, 0x00, 0x00
		, 0x0f, 0x38, 0x00, 0x00
		, 0x1e, 0x3e, 0x00, 0x00
		, 0x3c, 0x3f, 0x00, 0x00
		, 0x38, 0x3f, 0x80, 0x00
		, 0x70, 0x3f, 0xc0, 0x00
		, 0x63, 0xff, 0xe0, 0x00
		, 0x60, 0x3f, 0xf0, 0x00
		, 0xe0, 0x3f, 0xf0, 0x00
		, 0xe0, 0x1f, 0xf0, 0x00
		, 0xe0, 0x0f, 0xf0, 0x00
		, 0xf8, 0x07, 0xf0, 0x00
		, 0x1f, 0xf7, 0xf0, 0x00
		, 0x00, 0x33, 0xf0, 0x00
		, 0x00, 0x18, 0xe0, 0x00
		, 0x00, 0x0d, 0x02, 0x00
		, 0x00, 0x0f, 0x00, 0x00
		, 0x00, 0x00, 0x01, 0x00
		, 0x00, 0x00, 0x01, 0xc0
		, 0x00, 0x00, 0x00, 0x20
		, 0x00, 0x00, 0x00, 0x20
		, 0x00, 0x00, 0x00, 0xc0
	};



	//glClear(GL_COLOR_BUFFER_BIT);
	if (MouseButton == 1){
		glColor3f(0.0, 0.0, 1.0);
	}
	else if (MouseButton == 2){
		glColor3f(1.0, 0.0, 1.0);
	}
	

	glRasterPos2i(old_x - 200, 200 - old_y);
	glBitmap(27, 65, 0, 0, 0, 0, pattern);
	glFlush();

	glColor3f(0, 0, 0);
	glBegin(GL_POINTS);	// use points to form X-/Y-axes
	for (int x = -150; x <= 150; x++) // draw X-axis
		glVertex2i(x, 0);
	for (int y = -150; y <= 150; y++) // draw Y-axis
		glVertex2i(0, y);
	glEnd();

	glRasterPos2i(0, 150);
	glutBitmapCharacter(GLUT_BITMAP_HELVETICA_12, 'Y');

	glRasterPos2i(150, 0);
	glutBitmapCharacter(GLUT_BITMAP_HELVETICA_12, 'X');


	glColor3f(0, 1, 0);
	glRasterPos2i(0, 50);
}



void moveImage(int x, int y){

	old_x = x;
	old_y = y;

	glutPostRedisplay();
}



void mouseClick(int button, int state, int x, int y){

	if (button == GLUT_LEFT_BUTTON){
		MouseButton = 1;
		glutPostRedisplay();
	}
	else if (button == GLUT_RIGHT_BUTTON){
		MouseButton = 2;
		glutPostRedisplay();
	}

	moveImage(x, y);
}





//***********************************************************************************
void myInit()
{
	glClearColor(1, 1, 1, 0);			// specify a background clor: white 
	gluOrtho2D(-200, 200, -200, 200);  // specify a viewing area
}

//***********************************************************************************
void myDisplayCallback()
{
	glClear(GL_COLOR_BUFFER_BIT);	// draw the background

	display();

	glFlush(); // flush out the buffer contents
}

//***********************************************************************************


void main()
{

	glutInitWindowSize(400, 400);				// specify a window size
	glutInitWindowPosition(100, 0);			// specify a window position
	glutCreateWindow("Thinking Man Motion");	// create a titled window


	myInit();									// setting up
	display();

	glutMouseFunc(mouseClick);
	glutMotionFunc(moveImage);

	glutDisplayFunc(myDisplayCallback);		// register a callback

	glutMainLoop();							// get into an infinite loop
}


